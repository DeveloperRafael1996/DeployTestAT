"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7959],{74900:function(n,e,t){var r=t(95318);e.Z=void 0;var i=r(t(64938)),a=t(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");e.Z=o},57959:function(n,e,t){var r=t(34051),i=t.n(r),a=t(85893),o=t(67294),c=t(69397),u=t(1691),l=t(41248),s=(t(19737),t(80669)),p=t(57954),f=t(53918),d=t(11163),m=(t(49309),t(74900)),v=t(31812);function h(n,e,t,r,i,a,o){try{var c=n[a](o),u=c.value}catch(l){return void t(l)}c.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function o(n){h(a,r,i,o,c,"next",n)}function c(n){h(a,r,i,o,c,"throw",n)}o(void 0)}))}}function x(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function w(){var n=x(["\n  & {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 1rem;\n    padding: 1rem;\n    .wrapper {\n      flex: 1 1 30%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      gap: 0.5rem;\n      .wrapper-image {\n        flex: 1;\n        min-width: 80px;\n        max-width: calc(150px + 4vw);\n        svg {\n          font-size: calc(80px + 4vw);\n        }\n      }\n      > p {\n        white-space: nowrap;\n        display: block;\n        text-align: center;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: calc(100px + 5vw);\n      }\n    }\n  }\n"]);return w=function(){return n},n}function y(){var n=x(["\n  & {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    align-items: center;\n    gap: 0.5rem;\n    > button {\n      width: 100%;\n      max-width: 200px;\n      text-transform: capitalize;\n      padding: calc(0.7vmax + 0.1rem) calc(1vw + 0.5rem);\n    }\n  }\n"]);return y=function(){return n},n}function b(){var n=x(["\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-items: center;\n  & {\n    span {\n      font-weight: 500;\n    }\n    img {\n      max-height: 100px;\n    }\n  }\n"]);return b=function(){return n},n}function k(){var n=x(["\n  & {\n    &.MuiPaper-root {\n      color: ",";\n      background: white;\n      box-shadow: none;\n      border-radius: 0;\n      outline: none;\n      .MuiAlert-message {\n        font-size: 1rem;\n      }\n      .warning {\n        color: ",";\n        font-weight: 600;\n      }\n      svg {\n        color: ",";\n      }\n    }\n  }\n"]);return k=function(){return n},n}function j(){var n=x(["\n          animation-name: activeFile;\n        "]);return j=function(){return n},n}function P(){var n=x(["\n  & {\n    position: relative;\n    display: flex;\n    border: thin dashed black;\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 1rem;\n    padding: 1rem;\n    /* height: 40vh; */\n    /* max-height: calc(300px + 5vmax); */\n    min-height: 40vh;\n    .label-file {\n      font-size: 1.6rem;\n      text-align: center;\n      display: block;\n      width: 100%;\n      display: grid;\n      place-items: center;\n      gap: 1rem;\n      cursor: pointer;\n      color: ",";\n      pointer-events: none;\n      button {\n        text-transform: capitalize;\n        padding: 0.5rem 2rem;\n        pointer-events: all;\n      }\n    }\n\n    animation-name: null;\n    animation-duration: 2s;\n    animation-iteration-count: infinite;\n    transition: 250ms;\n    ","\n    ","\n  }\n"]);return P=function(){return n},n}function F(){var n=x(["\n    @keyframes activeFile {\n      from {\n        transform: scale(1);\n        background-image: linear-gradient(\n          to right,\n          "," 0%,\n          #b31217 51%,\n          "," 100%\n        );\n        border-width: thin;\n        background-size: 200% auto;\n      }\n      50% {\n        transform: scale(1.02);\n        border-width: thick;\n        box-shadow: 0 0 20px #eee;\n        background-position: right center;\n      }\n      to {\n        transform: scale(1);\n        background-image: linear-gradient(\n          to right,\n          "," 0%,\n          #b31217 51%,\n          "," 100%\n        );\n        border-width: thin;\n        background-size: 200% auto;\n      }\n    }\n  "]);return F=function(){return n},n}function Z(){var n=x(["\n  & {\n    background: white;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    background: ",";\n    padding: 2rem 0;\n    flex: 1;\n  }\n"]);return Z=function(){return n},n}function z(){var n=x(["\n  & {\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    .bottom-text {\n      text-align: center;\n      font-size: 1rem;\n      color: ",";\n      line-height: 1.4rem;\n    }\n  }\n"]);return z=function(){return n},n}e.Z=function(n){var e=n.refetch,t=(0,o.useState)(!1),r=t[0],u=t[1],f=(0,o.useState)([]),h=f[0],x=f[1],w=(0,o.useState)([]),y=w[0],b=w[1],k=(0,l.v9)(s.np).user,j=((0,d.useRouter)(),(0,o.useState)(!1)),P=j[0],F=j[1],Z=function(){x([]),b([]),u(!1)},z=function(){var n=g(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:F(!0),y.slice(0,2).map(function(){var n=g(i().mark((function n(t){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={session:k.session,company:"ATP",myFile:t,type:"IDENTITY"},n.next=3,(0,p.C)(r);case 3:return"OK"===(null===(a=n.sent)||void 0===a?void 0:a.result)&&e&&e(),console.log(a),Z(),F(!1),n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,a.jsx)(A,{activeInputFile:r,onDragLeave:function(n){n.preventDefault(),n.stopPropagation(),u(!1)},onDragOver:function(n){n.preventDefault(),n.stopPropagation(),u(!0)},onDrop:function(n){n.preventDefault(),n.stopPropagation();var e=n.dataTransfer.files[0].type;["image/jpeg","image/png","application/pdf"].indexOf(e)>-1&&(b(Array.from(n.dataTransfer.files).slice(0,2)),Promise.all(Array.from(n.dataTransfer.files).slice(0,2).map((function(n){return new Promise((function(e,t){var r=new FileReader;r.addEventListener("load",(function(t){e({url:t.target.result,name:n.name,type:n.type})})),r.addEventListener("error",t),r.readAsDataURL(n)}))}))).then((function(n){x(n)}),(function(n){console.error(n)}))),u(!1)},children:h.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{children:h.map((function(n,e){var t;return(0,a.jsxs)("div",{className:"wrapper",children:[(0,a.jsx)("div",{className:"wrapper-image",children:(null===n||void 0===n||null===(t=n.type)||void 0===t?void 0:t.includes("pdf"))?(0,a.jsx)(m.Z,{}):(0,a.jsx)("img",{alt:"",src:n.url})}),(0,a.jsx)("p",{children:null===n||void 0===n?void 0:n.name})]},e)}))}),(0,a.jsxs)(D,{children:[(0,a.jsx)(v.Z,{loading:P,onClick:Z,variant:"outlined",children:"Eliminar"}),(0,a.jsx)(v.Z,{loading:P,onClick:z,variant:"contained",children:"Enviar Solicitud"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("label",{className:"label-file",htmlFor:"file",children:[(0,a.jsx)("span",{children:"Seleccione \xf3 arrastre aqu\xed su archivo / foto para subir"}),(0,a.jsx)(c.Z,{onClick:function(n){document.getElementById("InputFileS-file").click()},variant:"outlined",children:"Subir imagen"})]}),(0,a.jsx)("input",{hidden:!0,id:"InputFileS-file",multiple:!0,onChange:function(n){if(n.target.files){var e=[];Array.from(n.target.files).slice(0,2).map((function(n){var t=URL.createObjectURL(n);return e.push({url:t,name:n.name,type:n.type})})),x(e),b(Array.from(n.target.files).slice(0,2))}},type:"file"})]})})};var S=f.ZP.div(w()),D=f.ZP.div(y()),A=(f.ZP.div(b()),(0,f.ZP)(u.Z)(k(),(function(n){return n.theme.palette.alternate13.main}),(function(n){return n.theme.palette.primary.main}),(function(n){return n.theme.palette.dark.main})),f.ZP.div(P(),(function(n){return n.theme.palette.light.main}),(function(n){return n.theme.palette.alternate13.main}),(function(n){if(n.activeInputFile)return(0,f.iv)(j())}),(0,f.iv)(F(),(function(n){return n.theme.palette.primary.main}),(function(n){return n.theme.palette.primary.main}),(function(n){return n.theme.palette.primary.main}),(function(n){return n.theme.palette.primary.main}))));f.ZP.div(Z(),(function(n){return n.theme.palette.alternate12.main})),f.ZP.div(z(),(function(n){return n.theme.palette.alternate13.main}))},57954:function(n,e,t){t.d(e,{C:function(){return c}});var r=t(34051),i=t.n(r);function a(n,e,t,r,i,a,o){try{var c=n[a](o),u=c.value}catch(l){return void t(l)}c.done?e(u):Promise.resolve(u).then(r,i)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function c(n){a(o,r,i,c,u,"next",n)}function u(n){a(o,r,i,c,u,"throw",n)}c(void 0)}))}}function c(n){return u.apply(this,arguments)}function u(){return(u=o(i().mark((function n(e){var t,r,a,o,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,(t=new FormData).append("session",e.session),t.append("company",e.company),t.append("myFile",e.myFile),t.append("type",e.type),r="".concat("https://wallet.apuestatotal.com/api","/data/uploadFile"),a={method:"POST",body:t},n.next=10,fetch(r,a);case 10:return o=n.sent,n.next=13,o.json();case 13:return c=n.sent,n.abrupt("return",c);case 17:throw n.prev=17,n.t0=n.catch(0),n.t0;case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))).apply(this,arguments)}}}]);